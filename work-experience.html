<!DOCTYPE html>
<!--
  The DOCTYPE enables modern “standards mode” so browsers interpret HTML/CSS consistently.
  Without it, some browsers fall back to “quirks mode” with legacy layout behavior.
-->
<html lang="en">
  <head>
    <!--
    UTF-8 supports virtually all characters (accents, symbols, emoji). This prevents garbled text.
  -->
    <meta charset="UTF-8" />
    <!--
    Responsive meta tag: sets the layout viewport to the device width and a 1:1 CSS pixel scale.
    This makes the site adapt properly on phones and tablets.
  -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Work Experience & Skills | Roberto Pires</title>
    <!--
    FAVICONS:
    Multiple sizes are supplied so icons look sharp on different devices (e.g., iOS, high-DPI screens).
    Paths are relative to THIS HTML file.
  -->
    <!-- favicons generated by favicon.io -->
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="assets/images/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="assets/images/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="assets/images/favicon-16x16.png"
    />
    <!--
    BOOTSTRAP CSS via CDN:
    Provides grid, utilities, and components. The integrity + crossorigin attributes enable
    Subresource Integrity checks (security) and proper CORS handling for CDN resources.
  -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <!--
    Custom stylesheet loaded AFTER Bootstrap so your design tokens and helper classes
    (e.g., .h1-as-h3, .as-h3, .as-h5, color variables) can override framework defaults.
  -->
    <link rel="stylesheet" href="assets/css/style.css" />
    <meta
      name="description"
      content="Roberto Pires' teaching and industry experience: Computer Science teacher (KS3-KS5, BTEC, Cambridge Nationals), IT & Maths tutor, IT support technician, and software/web developer."
    />
  </head>
  <!--
  STICKY FOOTER LAYOUT:
  - d-flex flex-column stacks header, main, footer vertically.
  - min-vh-100 makes the body at least as tall as the viewport.
  With this structure, adding .mt-auto to <footer> pushes it to the bottom on short pages.
-->

  <body class="d-flex flex-column min-vh-100">
    <!-- Improvement TC024 - Skip to content link -->
    <a class="skip-link" href="#main">Skip to content</a>
    <!--
    NAVIGATION LANDMARK:
    <nav> is a semantic region that assistive technologies can jump to.
    .navbar-expand-lg means the menu collapses below the “lg” breakpoint.
  -->
    <nav class="navbar navbar-expand-lg custom-navbar">
      <div class="container">
        <!-- Brand: image with meaningful alt text for screen readers -->
        <a class="navbar-brand" href="index.html">
          <img
            src="assets/images/logodbg2.webp"
            alt="Roberto Pires logo"
            class="logo logo-navbar"
          />
        </a>
        <!--
        Mobile toggler. data-bs-* attributes hook into Bootstrap’s collapse JS.
        aria-* attributes improve accessibility by describing the control relationship/state.
      -->
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <!--
        Collapsible menu. Using a list for navigation links is semantically correct.
        The .active class and aria-current="page" communicate the current page to users and assistive tech.
      -->
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" href="index.html">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="about-me.html">About Me</a>
            </li>
            <!-- This page is "Work Experience", so it is marked active -->
            <li class="nav-item">
              <a
                class="nav-link active"
                aria-current="page"
                href="work-experience.html"
                >Work Experience</a
              >
            </li>
            <!-- In-page anchor to the #skills section further down -->
            <li class="nav-item">
              <a class="nav-link" id="nav-skills" href="#skills">Skills</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="certifications.html">Certifications</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="bookings.html">Bookings</a>
            </li>
            <!-- In-page anchor to the footer’s contact section -->
            <li class="nav-item">
              <a class="nav-link" id="nav-contact" href="#contact">Contact</a>
            </li>
            <!-- Link to open CV in a new tab. -->
            <li class="nav-item">
              <a
                class="nav-link"
                href="assets/docs/Roberto_Pires_CV.pdf"
                target="_blank"
                rel="noopener noreferrer"
                aria-label="View CV as PDF in a new tab"
              >
                Download CV (PDF)
              </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!--
    HEADER (Hero):
    Communicates page purpose. For accessibility/SEO keep a single H1 as the page title,
    but visually style it to match previous H3 via the helper class .h1-as-h3.
    Supporting text uses paragraphs rather than heading levels (correct semantics).
  -->
    <header class="header-background py-4">
      <div class="container">
        <div class="row align-items-center">
          <!-- On small screens, text stacks above the image for readability -->
          <div class="col-12 col-md-9 text-center">
            <!-- STRUCTURAL H1 styled as previous H3 for visual consistency -->
            <h1 class="header-lead h1-as-h3">
              <strong>Work Experience</strong>
            </h1>
            <!-- Body copy: paragraphs are correct semantics for descriptive text -->
            <p class="header-intro">
              With over 20 years of experience in education, I’ve taught
              Computer Science, Creative iMedia, and IT across UK schools and
              colleges, delivering KS3 to A-level, BTEC, and Cambridge
              Nationals. I've also worked as an IT support technician and .NET
              software developer, bringing industry experience into the
              classroom.
            </p>

            <p class="lead header-intro">
              In further education, I've taught Level 3 Computer Science and
              Access to HE diplomas. Alongside teaching, I've managed IT
              networks, supported curriculum development, and led initiatives
              that promote digital literacy and innovation.
            </p>
          </div>
          <!-- Decorative/brand image: responsive via .img-fluid, with informative alt text -->
           <!-- pick the real pixel size or aspect -->
          <div class="col-12 col-md-3 text-center text-md-end">
            <img
              src="assets/images/work-experience-logo2.webp"
              alt="Roberto Pires Work Experience logo"
              width="320" 
              height="180"
              class="logo logo-header img-fluid"
              decoding="async" loading="eager"
            />
          </div>
        </div>
      </div>
    </header>

    <!--
    MAIN landmark contains the unique content of this page (helps keyboard and screen reader users).
    mt-auto here simply keeps spacing consistent with the sticky footer pattern.
  -->
    <!-- Improvement TC024 - Skip to content link -->
    <main id="main" tabindex="-1" class="mt-auto">
      <!--
      “Work Experience” grid:
      Inside each tile, the section title is H2 (one level below the page H1).
      Class .as-h3 keeps the look of former H3. Descriptions use <p> with .as-h5
      to preserve previous visual scale while keeping semantic correctness.
    -->
      <section id="work-experience" class="container">
        <div class="tile-grid">
          <div class="tile">
            <p>
              <img
                src="assets/images/computer-science-teacher-logov3.webp"
                alt="CS Teacher icon"
                class="section-icon"
              />
            </p>
            <h2 class="as-h3 text-center">
              <strong>Computer Science Teacher</strong>
            </h2>
            <p class="as-h5">
              At Abbey College Ramsey, I led Computer Science across KS3 to KS5,
              delivering GCSE, A-level, and BTEC courses while supporting CPD
              training. At St. Peter’s School, I taught Computing, Creative
              iMedia, BTEC IT, and A-level Computer Science, also managing KS3
              resources and serving as a form tutor. At The College of West
              Anglia, I lectured in Computer Science and Maths, coordinated
              Access to HE courses, and taught BTEC Computing and Gaming. In
              Portugal, I taught IT and Computer Science across KS2–KS5, managed
              networks, developed websites, and worked as a .NET programmer and
              graphic designer.
            </p>
          </div>
          <div class="tile">
            <p>
              <img
                src="assets/images/itcstutor-logo2.webp"
                alt="Tutor logo"
                class="section-icon"
              />
            </p>
            <h2 class="as-h3 text-center">
              <strong>IT & Mathematics Tutor</strong>
            </h2>
            <p class="as-h5">
              As a dedicated tutor, I’ve helped students achieve success in GCSE
              Maths, Computer Science, and Cambridge Nationals Creative iMedia,
              as well as Level 3 Creative iMedia and BTEC IT. I tailor my
              teaching to suit each learner’s pace and needs, breaking down
              complex topics into simple, engaging explanations. With a patient,
              supportive approach and a deep understanding of the curriculum,
              I’ve guided many students to build confidence, improve grades, and
              reach their academic goals across a range of qualifications.
              Whether working online or in person, I create a focused,
              encouraging learning environment.
            </p>
          </div>
          <div class="tile">
            <p>
              <img
                src="assets/images/itSupport2-logo.webp"
                alt="IT Support logo"
                class="section-icon"
              />
            </p>
            <h2 class="as-h3 text-center">
              <strong>IT Support Technician</strong>
            </h2>
            <p class="as-h5">
              I’ve worked as an IT Support Technician in both educational and
              professional environments, delivering technical support for
              hardware, software, and network systems. My duties included
              troubleshooting issues, configuring devices, and managing user
              accounts and school networks. I hold CompTIA A+ and ITF+
              certifications and have completed Cisco network training, which
              strengthens my ability to manage secure, reliable systems. I
              support users with clear communication and resolve issues
              efficiently to maintain smooth IT operations.
            </p>
          </div>
          <div class="tile">
            <p>
              <img
                src="assets/images/programmer-logo2.webp"
                alt="Programmer logo"
                class="section-icon"
              />
            </p>
            <h2 class="as-h3 text-center">
              <strong>Software/Website Developer</strong>
            </h2>
            <p class="as-h5">
              I’m currently completing a Level 5 Diploma in Website Development,
              building skills in responsive design, accessibility, and
              full-stack development. My programming background includes
              developing applications using C#.NET, ADO.NET, Crystal Reports,
              and SQL Server. I have experience creating structured,
              user-focused websites and coding in languages like HTML, CSS, PHP
              and JavaScript. With a strong foundation in software development
              and web technologies, I bring both academic knowledge and
              practical experience to each project.
            </p>
          </div>
        </div>
      </section>
      <!--
      SKILLS “Hero” strip:
      Background color is set inline for this band. I kept a structural H2 here (beneath the page H1).
      The paragraph uses .text-dark to ensure sufficient contrast over the light background chosen.
    -->
      <section
        id="skills"
        class="py-4"
        style="background-color: #b7986b; color: #f9f6f1"
      >
        <div class="container">
          <div class="row align-items-center">
            <div class="col-12 col-md-9 text-center">
              <!-- H2 keeps a logical outline; .header-lead preserves previous visual style -->
              <h2 class="header-lead"><strong>Skills</strong></h2>
              <!-- .text-dark forces dark text for readability against the tinted background -->
              <p class="header-intro text-dark">
                I hold a PGCE and a BSc (Hons) in Computer Science, with a broad
                skill set spanning Teaching & Education, Coding and Web
                Development, IT Support and Networking, Graphic Design, and
                Project Management. I’m fluent in both Portuguese and English,
                and have a good verbal and written understanding of Spanish. My
                experience combines academic teaching with industry-relevant
                technical expertise, making me a well-rounded professional able
                to support learners and projects across diverse educational and
                digital domains.
              </p>
            </div>
            <div class="col-12 col-md-3 text-center text-md-end">
              <img
                src="assets/images/skills-logo2.webp"
                alt="Skills section logo"
                class="logo logo-header img-fluid"
              />
            </div>
          </div>
        </div>
      </section>
      <!--
      SKILLS grid:
      Each tile’s heading is an H2 (correct step under the page H1). .as-h3 and .as-h5 retain previous established look.
      Images include descriptive alt text for accessibility.
    -->
      <section class="container py-4">
        <div class="tile-grid">
          <div class="tile">
            <p>
              <img
                src="assets/images/computer-science-teacher-logov3.webp"
                alt="Teaching icon"
                class="section-icon"
              />
            </p>
            <h2 class="as-h3 text-center">
              <strong>Teaching & Education</strong>
            </h2>
            <p class="as-h5">
              As a qualified teacher with a BSc (Hons) in Computer Science and
              PGCE, I’ve taught a wide range of qualifications including OCR
              GCSE and A-level Computer Science, BTEC Level 2 & 3 IT, Cambridge
              Technicals, Access to HE, and Project Management in IT. I use the
              PRIMM approach to develop students’ programming skills
              effectively. I’ve also integrated MS Teams and Class Notebook into
              my digital teaching practice, supporting remote and blended
              learning. My approach combines deep subject knowledge with modern,
              structured teaching methods to engage and support learners of all
              levels.
            </p>
          </div>
          <div class="tile">
            <p>
              <img
                src="assets/images/programmer-logo2.webp"
                alt="Coding icon"
                class="section-icon"
              />
            </p>
            <h2 class="as-h3 text-center">
              <strong>Coding & Web Development</strong>
            </h2>
            <p class="as-h5">
              I bring strong coding and web development expertise across
              multiple languages and technologies. I’m proficient in HTML, CSS,
              JavaScript, PHP, Python, Java, C, and C#.NET, and have built
              database-driven applications using MySQL, phpMyAdmin, SQL Server,
              and ADO.NET. My experience includes developing responsive,
              accessible websites using Bootstrap and modern web standards. I’m
              currently completing a Level 5 Diploma in Website Development,
              which enhances my full-stack skills and supports both independent
              development and teaching of core programming concepts and
              practical implementation.
            </p>
          </div>
          <div class="tile">
            <p>
              <img
                src="assets/images/networks-logo2.webp"
                alt="Networking icon"
                class="section-icon"
              />
            </p>
            <h2 class="as-h3 text-center">
              <strong>Networks & IT Support</strong>
            </h2>
            <p class="as-h5">
              I have solid hands-on experience in IT support and network
              administration, backed by certifications in CompTIA ITF+ and A+,
              as well as Cisco CCNA Exploration. I’ve worked with a range of
              Microsoft operating systems, including configuring and maintaining
              Windows Server environments, Active Directory, and user account
              management. My support experience spans troubleshooting hardware
              and software issues, managing secure school networks, and
              providing responsive, user-focused technical assistance. These
              skills support both educational and enterprise-level IT needs with
              efficiency and reliability.
            </p>
          </div>
          <div class="tile">
            <p>
              <img
                src="assets/images/graphic-design-logo2.webp"
                alt="Graphic Design icon"
                class="section-icon"
              />
            </p>
            <h2 class="as-h3 text-center"><strong>Graphic Design</strong></h2>
            <p class="as-h5">
              I hold a Level 5 Diploma in Graphic Design and have hands-on
              experience using tools like Photoshop, Illustrator, GIMP, and
              Inkscape. My skills span digital illustration, photo editing, and
              layout design, supported by a strong understanding of design
              principles and digital photography. I’ve created a wide range of
              visual content for educational and professional projects, from UI
              elements to instructional graphics. My creative approach enhances
              learning resources, websites, and branding with visually
              compelling, purposeful designs tailored to specific audiences.
            </p>
          </div>
          <div class="tile">
            <p>
              <img
                src="assets/images/project-management-logo2.webp"
                alt="Project Management icon"
                class="section-icon"
              />
            </p>
            <h2 class="as-h3 text-center">
              <strong>Project Management</strong>
            </h2>
            <p class="as-h5">
              I’ve taught Project Management as part of BTEC and Access to HE
              Computer Science courses in further education, guiding learners in
              planning, executing, and reviewing IT projects. Throughout my
              teaching career, I’ve applied project management principles to
              curriculum development, resource planning, and digital
              initiatives. I have practical experience using Gantt charts,
              GitHub, and Trello to manage timelines, version control, and team
              collaboration—ensuring efficient project delivery in both
              educational and technical settings.
            </p>
          </div>
          <div class="tile">
            <p>
              <img
                src="assets/images/languages-logo2.webp"
                alt="Languages icon"
                class="section-icon"
              />
            </p>
            <h2 class="as-h3 text-center"><strong>Languages</strong></h2>
            <p class="as-h5">
              I am fully bilingual in English and Portuguese, with excellent
              written and verbal communication skills in both languages. I also
              have a strong understanding of Spanish, confidently reading and
              engaging in spoken communication. Additionally, I possess basic
              reading, writing, and speaking abilities in French. My
              multilingual skills enhance my ability to support diverse learners
              and communicate effectively across different cultural and
              educational contexts, both in the classroom and within
              international professional environments.
            </p>
          </div>
        </div>
      </section>
    </main>
    <!-- Footer / contact section -->
    <!-- Footer is placed after main content; mt-auto pushes it to bottom if page is short. -->
    <!--
    FOOTER:
    - mt-auto keeps the footer at the bottom on short pages.
    - The #contact wrapper below is the anchor target the navbar links to.
    - Headings in the footer use H2/H3 to maintain a logical outline beneath the page H1.
  -->
    <footer class="mt-auto">
      <!-- Contacts section groups contact methods and provides in-page anchor targets. -->
      <section id="contacts">
        <div class="col-12 text-center">
          <!-- Keep only one <h1> per page ideally; using classed heading here for styling. -->
          <h2 class="footer-title">My Contacts</h2>
        </div>
        <!-- Inner wrapper with #contact to support the navbar "Contact" anchor link. -->
        <div id="contact">
          <!-- Each tile presents one contact modality. -->
          <div class="footer-tile">
            <p>
              <img
                src="assets/icons/award.svg"
                alt=""
                class="footer-icon me-2"
              />
            </p>
            <h3>Badge</h3>
            <br />
            <!-- WebP helps performance; ensure fallback if targeting very old browsers. -->
            <img
              src="assets/images/badgev2.webp"
              alt="Roberto Pires badge"
              class="img-fluid"
            />
          </div>
          <div class="footer-tile">
            <p>
              <img
                src="assets/icons/map-pin.svg"
                alt=""
                class="footer-icon me-2"
              />
            </p>

            <h3>Address</h3>
            <br />
            <p>11 North Parade</p>
            <p>Holbeach, Spalding</p>
            <p>PE12 7AJ</p>
            <p>Lincolnshire</p>
            <p>United Kingdom</p>
          </div>
          <div class="footer-tile">
            <p>
              <img
                src="assets/icons/send.svg"
                alt=""
                class="footer-icon me-2"
              />
            </p>
            <h3>Email</h3>
            <br />
            <!-- Using a mailto: link improves usability. -->
            <p>
              <a href="mailto:roberto.pires@gmail.com"
                >roberto.pires@gmail.com</a
              >
            </p>
            <br />

            <p>
              <img
                src="assets/icons/phone.svg"
                alt=""
                class="footer-icon me-2"
              />
            </p>
            <h3>Telephone</h3>
            <br />
            <!-- tel: link makes it tappable on mobile devices. -->
            <p><a href="tel:+447773554800">+44 777 355 4800</a></p>
            <br />
          </div>
          <div class="footer-tile">
            <p>
              <img
                src="assets/icons/message-circle.svg"
                alt=""
                class="footer-icon me-2"
              />
            </p>
            <h3>Social Media</h3>
            <br />
            <!-- External links open in new tabs; rel attributes mitigate tab-nabbing. -->
            <p>
              <a
                href="https://www.linkedin.com/in/roberto-pires-a81b4716/"
                target="_blank"
                rel="noopener noreferrer"
                aria-label="Open Roberto Pires LinkedIn profile in a new tab"
              >
                <img
                  src="assets/icons/linkedin.svg"
                  alt=""
                  aria-hidden="true"
                  class="social-icon me-2"
                />
                <span>LinkedIn</span>
              </a>
            </p>
            <br />
            <p>
              <a
                href="https://www.facebook.com/pires.carlos.roberto"
                target="_blank"
                rel="noopener noreferrer"
                aria-label="Open Roberto Pires Facebook profile in a new tab"
              >
                <img
                  src="assets/icons/facebook.svg"
                  alt=""
                  aria-hidden="true"
                  class="social-icon me-2"
                />
                <span>Facebook</span>
              </a>
            </p>
            <br />
            <p>
              <a
                href="https://www.instagram.com/pirescroberto/"
                target="_blank"
                rel="noopener noreferrer"
                aria-label="Open Roberto Pires Instagram profile in a new tab"
              >
                <img
                  src="assets/icons/instagram.svg"
                  alt=""
                  aria-hidden="true"
                  class="social-icon"
                />
                <span>Instagram</span>
              </a>
            </p>
          </div>
        </div>
      </section>
      <div class="container">
        <!-- Copyright text; <small> indicates side information. -->
        <div class="row">
          <div class="col-12 text-center copyright-text mt-3">
            <small>&copy; 2025 Roberto Pires. All Rights Reserved.</small>
          </div>
        </div>
      </div>
    </footer>

    <!--
    Bootstrap JS bundle (includes Popper). Load before custom scripts that depend on Bootstrap
    behaviors (e.g., the navbar collapse toggler).
  -->

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>

    <script>
      /*
     SCRIPT 1: Smooth scroll + auto-collapse for in-page anchors (#skills, #contact).
   */
      document.querySelectorAll('a[href^="#"]').forEach((link) => {
        link.addEventListener("click", function (e) {
          const targetId = e.target.getAttribute("href").substring(1); // Extract section ID
          const section = document.getElementById(targetId);

          if (section) {
            e.preventDefault(); // Prevent default anchor click behavior

            // Smooth scroll to the section, accounting for the sticky navbar’s height
            const navbarHeight = document.querySelector(".navbar").offsetHeight;
            window.scroll({
              top: section.offsetTop - navbarHeight, // Adjust scroll position for navbar height
              behavior: "smooth",
            });

            // Collapse the navbar by simulating a click on the navbar toggler button
            const navbarToggler = document.querySelector(".navbar-toggler");
            if (
              navbarToggler &&
              !navbarToggler.classList.contains("collapsed")
            ) {
              navbarToggler.click(); // Manually collapse the navbar
            }
          }
        });
      });
    </script>

    <script>
      /*
    SCRIPT 2: Keep the “Contact” link highlighted while the footer (contacts area) is visible.
    Pedagogical note:
    - IntersectionObserver is more efficient than scroll events.
    - threshold: 0.2 means “consider it visible when ~20% of the target is in view”.
    - Also handled hash changes so a direct load to #contact shows the correct active state.
  */
      document.addEventListener("DOMContentLoaded", () => {
        const nav = document.querySelector(".custom-navbar");
        if (!nav) return;

        const links = nav.querySelectorAll(".nav-link");
        const contactLink = document.getElementById("nav-contact");
        const originalActive = nav.querySelector(".nav-link.active"); // e.g., Home, About, etc.

        // Utility: set exactly one nav item as active and announce via aria-current
        function setActive(el) {
          links.forEach((l) => {
            l.classList.remove("active");
            l.removeAttribute("aria-current");
          });
          if (el) {
            el.classList.add("active");
            el.setAttribute("aria-current", "page");
          }
        }

        // If the user explicitly clicks Contact, reflect that immediately
        if (contactLink) {
          contactLink.addEventListener("click", () => setActive(contactLink));
        }

        // Observe the footer area; when visible, highlight Contact; otherwise, restore
        const footerSection =
          document.querySelector("#contacts") ||
          document.querySelector("#contact");
        if (footerSection && contactLink) {
          const observer = new IntersectionObserver(
            (entries) => {
              entries.forEach((entry) => {
                if (entry.isIntersecting) {
                  setActive(contactLink);
                } else {
                  setActive(originalActive);
                }
              });
            },
            { threshold: 0.2 }
          ); // 20% of footer visible triggers Contact
          observer.observe(footerSection);
        }

        // Handle direct loads / back/forward with #contact
        const updateFromHash = () => {
          if (location.hash === "#contact" && contactLink)
            setActive(contactLink);
          else setActive(originalActive);
        };
        window.addEventListener("hashchange", updateFromHash);
        updateFromHash();
      });
    </script>

    <script>
      /*
    SCRIPT 3: Advanced nav highlighting for this page.
    Pedagogical note:
    - Observe BOTH the Skills hero (#skills) and the next section (the skills grid),
      so the “Skills” tab activates while either is visible.
    - Track two booleans (isFooterVisible, isSkillsVisible) so observers don’t “fight.”
    - rootMargin offsets the top boundary by the sticky navbar’s height, so activation
      feels correct as content scrolls under the navbar.
  */
      document.addEventListener("DOMContentLoaded", () => {
        const nav = document.querySelector(".custom-navbar");
        if (!nav) return;

        const links = nav.querySelectorAll(".nav-link");
        const contactLink = document.getElementById("nav-contact");
        const skillsLink = document.getElementById("nav-skills");
        const originalActive = nav.querySelector(".nav-link.active"); // "Work Experience" on this page

        function setActive(el) {
          links.forEach((l) => {
            l.classList.remove("active");
            l.removeAttribute("aria-current");
          });
          if (el) {
            el.classList.add("active");
            el.setAttribute("aria-current", "page");
          }
        }

        // State flags so observers don't "fight"
        let isFooterVisible = false;
        let isSkillsVisible = false;

        // --- CONTACT / FOOTER OBSERVER ---
        const footerSection =
          document.querySelector("#contacts") ||
          document.querySelector("#contact");
        if (footerSection && contactLink) {
          const footerObserver = new IntersectionObserver(
            (entries) => {
              entries.forEach((entry) => {
                isFooterVisible = entry.isIntersecting;
                if (isFooterVisible) {
                  setActive(contactLink);
                } else {
                  // Footer not visible; prefer Skills if visible, else restore page tab
                  if (isSkillsVisible && skillsLink) setActive(skillsLink);
                  else setActive(originalActive);
                }
              });
            },
            { threshold: 0.2 }
          );
          footerObserver.observe(footerSection);
        }

        // --- SKILLS OBSERVER (two sections: #skills + the following section) ---
        const skillsHero = document.getElementById("skills");
        // Find the next <section> after #skills (the skills grid on this page)
        const skillsGrid = (function () {
          if (!skillsHero) return null;
          let s = skillsHero.nextElementSibling;
          while (s && s.tagName !== "SECTION") s = s.nextElementSibling;
          return s || null;
        })();

        if (skillsLink && (skillsHero || skillsGrid)) {
          const skillsObserver = new IntersectionObserver(
            (entries) => {
              // If ANY observed skills section is sufficiently visible, treat as visible
              const visibleNow = entries.some((e) => e.isIntersecting);
              isSkillsVisible = visibleNow;

              if (!isFooterVisible) {
                if (isSkillsVisible) setActive(skillsLink);
                else setActive(originalActive);
              }
              // If footer is visible, footer observer already set Contact active (takes precedence)
            },
            {
              // Make activation feel right with a sticky navbar:
              // trigger when ~30% of a skills section is in view
              threshold: 0.3,
              // Nudge the top boundary down by the navbar height so activation happens at the right moment
              rootMargin: `-${
                document.querySelector(".navbar")?.offsetHeight || 0
              }px 0px 0px 0px`,
            }
          );

          if (skillsHero) skillsObserver.observe(skillsHero);
          if (skillsGrid) skillsObserver.observe(skillsGrid);
        }

        // Keep Skills highlighted if user clicks it
        if (skillsLink) {
          skillsLink.addEventListener("click", () => setActive(skillsLink));
        }

        // Handle direct loads / history with #skills or #contact
        const updateFromHash = () => {
          if (location.hash === "#contact" && contactLink) {
            setActive(contactLink);
          } else if (location.hash === "#skills" && skillsLink) {
            setActive(skillsLink);
          } else {
            setActive(originalActive);
          }
        };
        window.addEventListener("hashchange", updateFromHash);
        updateFromHash();
      });
    </script>
  </body>
</html>
